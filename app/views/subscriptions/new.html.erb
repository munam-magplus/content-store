<!doctype html>
<html>
<head>
<title>Content Store :: Create Subscription </title>
<!-- Latest compiled and minified CSS -->
</head>

<body>
<!-- Aside Start-->
<%= render :partial => "layouts/sidebar"%>
<!-- Aside Ends--> 
<!--Main Content Start -->
<section class="content"> 
  <!-- Header -->
  <%= render :partial => "layouts/top_header"%>
  <!-- Header Ends --> 
  <!-- Page Content Start --> 
  <!-- ================== -->
  <div class="wrapper container-fluid">
  <ol class="breadcrumb">
       <li><a href="#">Home</a></li>
     <li><a href="#">Manage User Account</a></li>
     <li><a href="#" class="active">End Users</a></li>
       <div class="pull-right hidden">
        <li><a href="#">Browse by Chapter</a></li>
        <li><a href="#">Browse by Book </a></li>
       </div>
      </ol>
    
    <h2 class="H2-L1"> Create Subscription </h2>
  <h4>Information</h4>
    <%= form_for @subscription, url: {action: "create"} do |f| %>
     <form class="form-horizontal form-bg" role="form">
      <div class="col-md-6">
        <div class="form-group">
          <label for="taskName" class="col-sm-4 control-label">Subscription ID:</label>
          <div class="col-sm-8">
            <%= f.text_field :subscription_id, :value => "System Generated" %>
         </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="bookISBN" class="col-sm-4 control-label">Subscription Name:</label>
          <span class="col-sm-8">
            <%= f.text_field :subscription_name %>
           </span> 
         </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="bookISBN" class="col-sm-4 control-label">Publisher:</label>
          <span class="col-sm-8">
            <%= f.collection_select :publisher, Publisher.all, :id, :publisher_name %>
           </span>
           </div>
        </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="taskName" class="col-sm-4 control-label">Subscription Description:</label>
          <div class="col-sm-8">
              <%= f.text_area :subscription_description %>
          </div>
        </div>
      </div>
      <div class="col-md-12">
        <div class="form-group">
          <label for="bookISBN" class="col-sm-2 control-label">Subscription category:</label>
          <span class="col-sm-8">
            <%= f.radio_button :subscription_category, 'Online Subscription for library' %>Online Subscription for library
            <%= f.radio_button :subscription_category, 'Individual Borrow' %> Individual Borrow
            <%= f.radio_button :subscription_category, 'Library Borrow' %> Library Borrow
          </div>
        </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <div height="40" colspan="4" style="border-bottom:#CCCCCC 1px solid">
              <label for="disabledTextInput" ><strong>Content</strong></label>
            </div>
            <%= f.radio_button :currency , 'Subject Group', checked: true %>Subject Group
            <%= f.radio_button :currency, 'Book' %>Book<br/>
          </div>
        </div>
      </div>
      <div class="row", id="subject_group">
        <div class="col-md-6">
          <div class="form-group">
            <%= render :partial => 'search_subject_group'%>
            <div class="subject"> </div>
          </div>
        </div>
      </div>
      <div id="book_id">
        <div class="row" >
          <div class="col-md-6">
            <div class="form-group">
              <%= f.radio_button :price, 'All Publishers', checked: true %>All Publishers
              <%= f.radio_button :price, 'Select Publisher' %>Select Publisher<br>
            </div>
          </div>
          <div class="col-md-6" id="select_publisher">
            <div class="form-group">
              <%= f.collection_select :publisher, Publisher.all, :id, :publisher_name %>
            </div>
          </div>
        </div>
        <div class="row" >
          <div class="col-md-6">
            <div class="form-group">
              <%= f.radio_button :number_of_books , 'All Titles', checked: true %>All Titles
              <%= f.radio_button :number_of_books, 'Select Title' %>Select Title<br>
            </div>
          </div>
        </div>
        <div class="row" id="select_title">
          <div class="col-md-6">
            <div class="form-group">
              <%= render :partial => 'search_title'%>
              <div class="title"> </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <div height="40" colspan="4" style="border-bottom:#CCCCCC 1px solid">
              <label><strong>Length of Agreement</strong></label><br>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <select select id="AgreementLength">
              <option value="" selected>Select</option>
              <option value="fixed">Fixed Date Range</option>
              <option value="relative">Relative Date Range</option>
            </select>
          </div>
        </div>
      </div>
      <div id="fixed">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              From<%= f.text_field :duration %>
              To<%= f.text_field :duration %>
            </div>
          </div>
        </div>
      </div>
      <div id="relative">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Duration* :</label>
              <%= f.text_field :duration %>
              <%= f.select :subscription_type, [['Select','select'],['Years','years'],['Months','months'],['Weeks','weeks']] %>
            </div>
          </div>
        </div>
      </div>
   <p>&nbsp;</p>
            <div class="col-md-12">
              <h4>Available for Institutional Accounts </h4>
              
            </div>
             <div class="col-md-6">
                <div class="col-md-12">
                <label class="radio-inline"><%= f.radio_button :currency, 'yes' %>Yes</label>
                 
                <label class="radio-inline"><%= f.radio_button :currency, 'no' %>No
                </label>
                </div>
              </div>
            
          </div>
        </div>
               
              </div>
             </div>
          </div>
          <!--Material Tabs End--> 
 </div>
    <div class="clearfix m-b-30"></div>
  <div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 colx-12 text-right">
 <%= f.submit "Save" %>
    <button type="submit" class="btn btn-sm" onclick="javascript:showDiv();"><i class="fa fa-check" aria-hidden="true"></i> &nbsp;Save</button>
        <button type="reset" class="btnBlack btn-sm" onclick="javascript:hideDiv();"><i class="fa fa-refresh" aria-hidden="true"></i> &nbsp;Clear</button>
      </div>
    </div>
              <% end %>

    <div class="clearfix m-b-30"></div>
  </div>
  <!-- Page Content Ends --> 
  <!-- ================== --> 
  
  <!-- Footer Start -->
    <%= render :partial => "layouts/top_header"%>
  <!-- Footer Ends --> 
</section>
</body>
</html>
<script>   
$(document).ready(function(){
        // $('#book').hide();
// if(id == "Book")) 
$('#book_id').hide();
$('#fixed').hide();
$('#relative').hide();
$('#select_publisher').hide();
$('#select_title').hide();

  $(':radio').change(function() {
      var id = $(this).val();
      
      console.log(id);
      if(id.search("Subject Group")!=-1){
        $('#book_id').hide();
        $('#subject_group').show();
      } else if(id.search("Book")!=-1){
        $('#subject_group').hide();
        $('#book_id').show();
      } else if(id.search("All Publishers")!=-1){
        $('#select_publisher').hide();
      } else if(id.search("All Titles")!=-1){
        $('#select_title').hide();    
      } else if(id.search("Select Publisher")!=-1){
        $('#select_publisher').show();
      } else if(id.search("Select Title")!=-1){
        $('#select_title').show();
      }
      /*else{
        $('#book_id').hide();
        $('#subject_group').show();
      }*/
  });
  $('#AgreementLength').change(function () {
   var isFixed = this.value == 'fixed';
   var isRelative = this.value == 'relative';
    $('#fixed').toggle(isFixed);
    $("#relative").toggle(isRelative);
  });
});
</script>