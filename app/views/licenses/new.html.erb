<!doctype html>
<html>
<head><title>Content Store :: License </title>
<!-- Latest compiled and minified CSS -->
    <!-- Header -->
    <%= render :partial => "layouts/top_header"%>
   <!-- Header Ends --> 
 </head>
<body>
<!-- Aside Start-->
    <%= render :partial => "layouts/sidebar"%>
    <!-- Aside Ends-->
  <section class="content"> 
    <!-- Page Content Start -->
    <!-- ================== -->
    <div class="wrapper container-fluid">
      <ol class="breadcrumb">
       <li><a href="#">Home</a></li>
     <li><a href="#">Manage Access</a></li>
     <li><a href="#" class="active">Create License</a></li>
       <div class="pull-right hidden">
        <li><a href="#">Browse by Chapter</a></li>
        <li><a href="#">Browse by Book </a></li>
       </div>
      </ol>
      <%if @license.new_record?%>
        <h2 class="H2-L1">Create License </h2>
      <%else%>
        <h2 class="H2-L1">License Details</h2>
      <%end%>

      <%= form_for @license do |f| %>
        <div class="col-md-12">
          <h3 class="H2-L1">Information</h3>   
        </div>
        <div class="col-md-6"><div class="form-group">
          <label for="Publisher" class="col-sm-5 control-label">License ID<sup class="mandatory">*</sup></label>
          <div class="col-sm-7">
            <input value="System Generated" id="licenseId" class="form-control" disabled />
          </div>
          <div class="clearfix"></div>
        </div></div>
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">License Name<sup class="mandatory">*</sup></label>
          <div class="col-sm-7">
             <%= f.text_field :license_name , :class => "form-control" %>
          </div>
          <div class="clearfix"></div>
        </div></div>
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">Created On<sup class="mandatory">*</sup></label>
          <div class="col-sm-7">
            <input value="System Generated" id="created_on" class="form-control" disabled />
          </div>
          <div class="clearfix"></div>
        </div></div>
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">Created By<sup class="mandatory">*</sup></label>
          <div class="col-sm-7">
            <input value="System Generated" id="created_by" class="form-control" disabled />
          </div>
          <div class="clearfix"></div>
        </div></div>
        <div class="col-md-12">
          <h3 class="H2-L1">Content</h3>   
        </div> 
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">Publisher<sup class="mandatory">*</sup></label>
          <div class="col-sm-7">
            <%= select_tag 'publisher_id',options_from_collection_for_select(Publisher.all, 'id', 'publisher_name'),:prompt => "select publisher",:class => "form-control", :id=> "publisher_id"%>
          </div>
        </div></div>             
                  <tr>
                   <td height = "25" colspan="5">
                     <input type="radio" name="content_type" value="book"/>Book
                     <input type="radio" name="content_type" value="chapter"/>Chapter
                     <input type="radio" name="content_type" value="journal"/>Journal
                     <input type="radio" name="content_type" value="article"/>Article
                   </td>
                  </tr>
                  <tr>
                   <td height = "25" colspan="5">
                    <div id="book">
                     ISBN<input type="text" name="title"/>
                     Title<input type="text" name="title"/>
                    </div>
                    <div id="chapter">
                     ISBN<input type="text" name="title"/>
                     Chapter Title<input type="text" name="title"/>
                     Content Code<input type="text" name="title"/>
                    </div>
                    <div id="journal">
                     Journal Title<input type="text" name="title"/>
                     Journal Code<input type="text" name="title"/>
                    </div>
                    <div id="article">
                     Journal Code<input type="text" name="title"/>
                     Title<input type="text" name="title"/>
                     Content Code<input type="text" name="title"/>
                     DOI<input type="text" name="title"/>
                    </div>
                   </td>
                   <td height = "25" colspan="5">
                    <%= button_to "search", content_search_licenses_path, :id => "open-contacts-dialog-btn",:class => "inbox-sf-add-btn tip", :method =>:get%>
                   </td>
                  </tr>
        <div class="col-md-12">
          <h3 class="H2-L1">Parameteres</h3>   
        </div>
        <!-- <div class="col-md-6">
        <div class="form-group">
          <label for="bookISBN" class="col-sm-5 control-label">License Type</label>
          <div class="col-sm-7">
           <%= select_tag 'license_for_sale',options_for_select([['Select',''], ['Relative Date Range',:relative_date_range], ['downloadable',:downloadable],['Fixed Date Range',:fixed_date_range]]), :id=>"licenseType" %>
          </div>
          <div class="clearfix"></div>
        </div>
      </div> -->
                  <tr>
                    <td height="25">License Type <span class="mandtory">*</span></td>
                    <td height="25" colspan="3"><select select id="licenseType">
                   <option value="" selected>Select</option>
                    <option value="relative">Relative Date Range</option>
                    <option value="downloadable">Downloadable Content</option>
                    <option value="fixed_date_range">Fixed Date Range</option>

                    </select></td>
                  </tr>
        <div class="col-md-6" id="relative"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">Duration</label>
          <div class="col-sm-7">
            <%= f.text_field :license_type , :class => "form-control" %>
          </div>
          <label for="License" class="col-sm-5 control-label"></label>
          <div class="col-sm-7">
            <select select id="duration">
                      <option value="" selected>Select</option>
                      <option value="minutes">Minutes</option>
                      <option value="hours">Hours</option>
                      <option value="days">Days</option>
                      <option value="months">Months</option>
                      <option value="years">Years</option>
                      </select>
          </div>
          <div class="clearfix"></div>
        </div></div>
                    <div id="downloadable">
                      Downloadable Format<span class="mandtory">*</span>
                      <select select id="duration">
                        <option value="" selected>No Downloadable format</option>
                      </select>
                  
                      Number of Days For Download <span class="mandtory">*</span>

                      <%= f.text_field :license_type %>
                    </div>
        <div class="col-md-6" id="fixed_date_range"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">From</label>
          <div class="col-sm-7">
            <%= f.text_field :from , :class => "form-control",:id => 'from' %>
          </div>
          <label for="License" class="col-sm-5 control-label">To</label>
          <div class="col-sm-7">
            <%= f.text_field :to , :class => "form-control",:id => 'to' %>
          </div>
        </div></div>
        <!-- <div class="col-md-6" id="fixed_date_range"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">To</label>
          <div class="col-sm-7">
            <%= f.text_field :to , :class => "form-control",:id => 'to' %>
          </div>
        </div></div> -->
        <div class="col-md-12">
          <h3> License can be Linked to user:</h3>   
        </div>
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">From<sup class="mandatory">*</sup></label>
          <div class="col-sm-7">
            <%= f.text_field :from , :class => "form-control",:id => 'from1' %>
          </div>
          <div class="clearfix"></div>
        </div></div>
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">To</label>
          <div class="col-sm-7">
            <%= f.text_field :to , :class => "form-control",:id => 'to1' %>
          </div>
        </div></div>
        <div class="col-md-12">
          <div class="col-md-12">
            <label class="radio-inline"><%= f.radio_button :to ,'Yes' %> Allow License to be linked  </label>
            <label class="radio-inline" ><%= f.radio_button :to ,'no' %> Prevent License from being linked </label>
          </div>
        </div>
        <div class="col-md-6">
          <h3 class="H2-L1"> Purchase Information</h3>   
        </div>
        <div class="col-md-6">
          <%= link_to "Price From Content" %>  |
          <%= link_to "Manually Edit Prices"%>
        </div>
        <div class="col-md-6">
          <div class="col-md-12">
            <label class="radio-inline"><%= f.radio_button :license_for_sale ,'Yes' %> For sale  </label>
            <label class="radio-inline" ><%= f.radio_button :license_for_sale ,'no' %> Not for Sale </label>
          </div>
        </div>
        <div class="col-md-6">
          <div class="col-md-12">
            <label class="radio-inline"><%= f.check_box(:to) %> Free License  </label>
            <label class="radio-inline" ><%= f.check_box(:to)  %> Free Shipping </label>
          </div>
        </div>
        <div class="col-md-6"><div class="form-group">
          <label for="License" class="col-sm-5 control-label">Discount%</label>
          <div class="col-sm-7">
            <%= f.text_field :discount , :class => "form-control" %>
          </div>
          <div class="clearfix"></div>
        </div></div>
        <div class="col-lg-12 col-md-12 col-sm-12 colx-12 text-right">
          <%= button_tag fa_icon("save", text: "Save"), :class => "btn btn-sm", type: :submit %>
        </div>
        </div>
      <% end %>

                          
      <!-- Page Content Ends --> 
      <!-- ================== --> 
    
      <!-- Footer Start -->
    <%= render :partial => "layouts/footer" %>
      <!-- Footer Ends --> 
  </section>
</body>
</html>
    
<script>
 $('#chapter').hide();
 $('#journal').hide();
 $('#article').hide();
 $('#relative').hide();
 $('#downloadable').hide();
 $('#fixed_date_range').hide();
 $('input[name="content_type"]').change(function() {
  var isBook = $('input:checked[name="content_type"]').val() == "book";
  var isChapter = $('input:checked[name="content_type"]').val() == "chapter";
  var isJournal = $('input:checked[name="content_type"]').val() == "journal";
  var isArticle = $('input:checked[name="content_type"]').val() == "article";

  $('#book').toggle(isBook);
  $('#chapter').toggle(isChapter);
  $('#journal').toggle(isJournal);
  $('#article').toggle(isArticle);
 });
 $('#licenseType').change(function () {
   var isRelative = this.value == 'relative';
   var isDownloadable = this.value == 'downloadable';
   var isFixed_date_range = this.value == 'fixed_date_range';
    $('#relative').toggle(isRelative);
    $("#downloadable").toggle(isDownloadable);
    $("#fixed_date_range").toggle(isFixed_date_range);
  });
</script>